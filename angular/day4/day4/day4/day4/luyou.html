<html>
    <head>
        <meta charset="utf-8">
        <title>AngularJS 路由实例 - 菜鸟教程</title>
    </head>
    <body ng-app='routingDemoApp' ng-controller="myCtrl">
     
        <h2>AngularJS 路由应用</h2>
        <ul>
            <li><a href="#/home">首页</a></li>
            <li><a href="#/computers">电脑</a></li>
            <li><a href="#/printers">打印机</a></li>
            <li><a href="#/home">其他</a></li>
        </ul>
         
        <div ng-view></div>

     <!--    <ng-view></ng-view>  -->
        <script src="http://apps.bdimg.com/libs/angular.js/1.4.6/angular.min.js"></script>
        <script src="http://apps.bdimg.com/libs/angular-route/1.3.13/angular-route.js"></script>
        <script>
            var myroute=angular.module('routingDemoApp',['ngRoute'])
             myroute.controller("myCtrl",function($scope,$location){

                // $scope.$on("$viewContentLoaded",function(){
                //     console.log("ng-view content loaded!");
                // });

                // $scope.$on("$routeChangeStart",function(event,next,current){
                //     //event.preventDefault(); //cancel url change
                //     console.log("route change start!");
                // });
             })
              // myroute.controller("computersName",function($scope){


              // })
            myroute.config(['$routeProvider', function($routeProvider){
                $routeProvider
                .when('/home',{
                    // template:'这是首页页面',
                    templateUrl:"home.html",
                    controller:function($scope){
                        $scope.homeName="这是首页页面"
                    }
                   })
                .when('/computers',{
                            template:'<div>{{omputersName}}这是电脑分类页面</div>',
                            controller:function($scope){
                                $scope.omputersName="这是电脑分类页面"
                            }
                             // controllerAs:"computersName"
                   })
                .when('/printers',{
                    template:'这是打印机页面',
                    controller:function($scope){
                        $scope.printersName="这是打印机页面"
                    }
                   })
                .otherwise({redirectTo:'/home'});
            }]);
        </script>
   <!--    路由功能是由 routeProvider服务 和 ng-view 搭配实现，ng-view相当于提供了页面模板的挂载点，当切换URL进行跳转时，不同的页面模板会放在ng-view所在的位置; 然后通过 routeProvider 配置路由的映射。
   
   一般主要通过两个方法：
   
   when()：配置路径和参数;
   
   otherwise：配置其他的路径跳转，可以想成default。
   
   when的第二个参数：
   
   controller：对应路径的控制器函数，或者名称
   
   controllerAs：给控制器起个别名
   
   template：对应路径的页面模板，会出现在ng-view处,比如"<div>xxxx</div>"
   
   templateUrl：对应模板的路径，比如"src/xxx.html"
   
   resolve：这个参数着重说下，该属性会以键值对对象的形式，给路由相关的控制器绑定服务或者值。然后把执行的结果值或者对应的服务引用，注入到控制器中。如果resolve中是一个promise对象，那么会等它执行成功后，才注入到控制器中，此时控制器会等待resolve中的执行结果。
   
   详细的例子，可以参考下面的样例。
   
   redirectTo：重定向地址
   
 
   caseInsensitiveMatch：路径区分大小写
   
    
   
   路由有几个常用的事件：
   $viewContentLoaded  这个事件会在路由加载完成时触发

   $routeChangeStart：这个事件会在路由跳转前触发
   
   $routeChangeSuccess：这个事件在路由跳转成功后触发
   
   $routeChangeError：这个事件在路由跳转失败后触发 -->
     
    </body>
</html>