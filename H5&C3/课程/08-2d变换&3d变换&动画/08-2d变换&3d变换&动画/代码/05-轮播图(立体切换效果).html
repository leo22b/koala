<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box{
				width: 500px;
				height: 260px;
				/*border: 1px solid gray;*/
				margin: 30px auto;
				position: relative;
				/* 景深基点*/
				/*perspective-origin:left;*/		
			}
			
			.bigView{
				width: 100%;
				height: 100%;
				list-style: none;
				/* 建立3D空间*/
				/*transform-style: preserve-3d;*/
				/* 景深*/
				perspective: 500px;
						
			}
			.bigView li{
				width: 20px;
				height: 260px;
				position: relative;
				transform-style: preserve-3d;
				float: left;
				transition: 3s;
				transform-origin: center center -130px;
			}
			.bigView li i{
				width: 100%;
				height: 100%;
				position: absolute;
			}
			.bigView li i:nth-of-type(1){
				background: url(images/Kayle_Splash_0.jpg) no-repeat;
				background-size: 500px 260px;
				z-index: 100;
			}
			.bigView li i:nth-of-type(2){
				background: url(images/Kayle_Splash_1.jpg) no-repeat;
				background-size: 500px 260px;
				transform-origin: bottom;
				top: -260px;
				transform: rotateX(90deg);
			}
			.bigView li i:nth-of-type(3){
				background: url(images/Kayle_Splash_2.jpg) no-repeat;
				background-size: 500px 260px;
				top: -260px;
				transform-origin: bottom;
				transform: rotateX(-180deg) translateZ(260px);
				/*z-index: 100;*/
			}
			.bigView li i:nth-of-type(4){
				background: url(images/Kayle_Splash_3.jpg) no-repeat;
				background-size: 500px 260px;
				top: 260px;
				transform-origin: top;
				transform: rotateX(-90deg);
			}
			
			/*.bigView li:nth-of-type(2) i{
				background-position-x: -20px;
			}*/
			
			
			.bigView li b{
				width: 260px;
				height: 260px;
				background: gray;
				position: absolute;
				top: 0;
			}
			.bigView li b:nth-of-type(1){
				left: 0;
				transform-origin: left;
				transform: rotateY(90deg);
			}
			.bigView li b:nth-of-type(2){
				right: 0;
				transform-origin: right;
				transform: rotateY(-90deg);
			}
			
			
			
			/*.bigView:hover li{
				transition: 3s;
				transform-origin: center center -130px;
				transform: rotateX(-270deg);
			}*/
			
			
			.bts{
				width: 100px;
				height: 25px;
				position: absolute;
				right: 5px;
				bottom: 5px;
			}
			.bts li{
				float: left;
				width: 25px;
				height: 25px;
				list-style: none;
				background: black;
				color: white;
				text-align: center;
				line-height: 25px;
				border-radius: 50%;
			}
		</style>
		
		<script type="text/javascript">
			window.onload = function(){
				var oStyle = document.querySelector('style');
				var oBigView = document.querySelector(".bigView");
				var aBt = document.querySelector('.bts').querySelectorAll('li');
				
				var aItem = [];
				
				var offsetW = 20;
				var iLength = oBigView.offsetWidth / offsetW;
				for(var i=0; i<iLength; i++){
					var oLi = document.createElement('li');
					// 添加到数组中
					aItem.push(oLi);
					oLi.innerHTML = '<i></i><i></i><i></i><i></i><b></b><b></b>';
					oStyle.innerHTML += '.bigView li:nth-of-type(' + (i+1) + ') i{background-position-x: -' + offsetW*i +'px;}';
					if(iLength/2 > i){	// 左边
						oLi.style.zIndex = iLength-1;
					} else{	// 右边
						oLi.style.zIndex = iLength-i;
					}
					oBigView.appendChild(oLi);
				}
				
				
				// 下标点击
				for(var i=0; i<aBt.length; i++){
					// 自定义属性
					// aBt.index = i;
					// aBt[i].onclick = function(){
						// this.index
					// }
					
					// 闭包
					(function(index){
						aBt[index].onclick = function(){
							for(var i=0; i<aItem.length; i++){
								console.log(i);
								aItem[i].style.transform = 'rotateX(-'+ index*90 +'deg)';
								// 过渡时间 延迟时间
								aItem[i].style.transition = '1s ' + i*200 + 'ms';
							}
						}
					})(i);
				}
			}
		</script>
	</head>
	
	<body>
		
		<div id="box">
			
			<!-- 轮播图片-->
			<ul class="bigView">
				<!--<li>
					<i></i>
					<i></i>
					<i></i>
					<i></i>
					<b></b>
					<b></b>
				</li>-->
			</ul>
			
			<!-- 下标 -->
			<ul class="bts">
				<li>1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
			</ul>
		</div>
		
	</body>
</html>
