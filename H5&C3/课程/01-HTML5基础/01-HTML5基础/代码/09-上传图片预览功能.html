<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			#box {
				width: 300px;
				height: 100px;
				border: 1px solid gray;
			}
		</style>
		<script type="text/javascript">
			window.onload = function() {
				var oBox = document.querySelector("#box");
				var oList = document.querySelector("ul");

				oBox.ondragover = function() {
					// 阻止默认事件
					return false;
				}

				oBox.ondrop = function(ev) {
					this.style.borderColor = 'red';

					// 外部文件列表
					ev = ev || window.event;
					// alert(ev.dataTransfer.files[0].type);

					for(var i = 0; i < ev.dataTransfer.files.length; i++) {

						var readFile = new FileReader();
						readFile.readAsDataURL(ev.dataTransfer.files[i]);

						// 文件获取完成(从其他地方读取到浏览器中)
						readFile.onload = function() {
							// 读取到的文件在哪里?
							// alert(this.result);
							var oLi = document.createElement('li');
							oList.appendChild(oLi);

							var oImg = document.createElement('img');
							oImg.src = this.result;
							oLi.appendChild(oImg);
						}

					}

					// 阻止默认事件(默认情况下，拖拽的图片会直接打开)
					return false;
				}
			}
		</script>
	</head>

	<body>
		<div id="box">

		</div>

		<ul>

		</ul>
	</body>

</html>