<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	
	<body>
		<h3>张三 www.a.com</h3>
		<input type="button" id="bt" value="子页面背景" />
		<iframe id="frame" src="http://www.b.com/HTML5/b/01-lisi.html"></iframe>
		
		
		<script type="text/javascript">
			var oBt = document.querySelector("#bt");
			var oFrame = document.querySelector("#frame")
			
			oBt.onclick = function(){
				// 跨文档消息通信(跨域)
				// oFrame.contentWindow.document.body.style.background = 'purple';
			
				oFrame.contentWindow.postMessage('changeBgColor', 'http://www.b.com');
			}
			
			
			window.addEventListener('message', function(ev){
				ev = ev || window.event;
				if(ev.data){
					document.body.style.background = ev.data['changeBg'];
				}
			});
		</script>
	</body>
</html>
