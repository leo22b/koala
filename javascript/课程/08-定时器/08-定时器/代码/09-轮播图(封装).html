<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			
			#box{
				width: 600px;
				height: 260px;
				margin: 30px auto;
				position: relative;
				border: 7px solid slategray;
			}
			#box img{
				width: 600px;
				height: 260px;
			}
			#box p{
				position: absolute;	
				bottom: 7px;
				width: 100%;
				height: 14px;
				text-align: center;
			}
			#box p i{
				width: 14px;
				height: 14px;
				background: black;
				display: inline-block;
				border-radius: 7px;
				margin: 0 3px;
			}
			#box p .active{
				background: white;
			}
		</style>
		
		<script type="text/javascript" src="zyz.js" ></script>
		<script>
			$(function(){
				
				// 轮播图图片
				var imageNames = ['images/img_01.png', 'images/img_02.png', 'images/img_03.png', 'images/img_04.png', 'images/img_05.png'];
				
				// 调用轮播图功能
				scrollView($('bigImg'), $('page'), imageNames, 3000);
				
				
				
				/* 轮播图功能
				 * imageView: 图片标签(src)
				 * pageView: 下标容器
				 * imageNames: 图片数组
				 * spaceTime: 时间间隔
				 
					 HTML结构
					 <div id="box">
						<!-- 图片-->
						<img id="bigImg" />
				
						<!-- 下标-->
						<p id="page"> </p>
					</div>
				 */  //轮播图功能
				function scrollView(imageView, pageView, imageNames, spaceTime){
					// 默认显示图片
					imageView.src = imageNames[0];
					// 下标视图
					var temp = '';
					for(var i=0; i<imageNames.length; i++){
						if(i==0)	{
							temp += '<i class="active"></i>';
						} else {
							temp += '<i></i>';
						}
					}
					pageView.innerHTML = temp;
					
					
					// 时钟
					var timer = null;
					// 下标
					var index = 0;
					// 下标视图
					var aPage = pageView.getElementsByTagName('i');
					
					// 页面打开，即开启时钟
					startTimer();
					pageAdd();
					
					// 给下标视图添加事件
					function pageAdd(){
						for(var i=0; i<aPage.length; i++){
							// 自定义属性 -- 下标
							aPage[i].index = i;
							
							// 鼠标移入
							aPage[i].onmouseover = function(){
								// 停止时钟
								stopTimer();
								index = this.index;
								changeView();
							}
							
							// 鼠标移出
							aPage[i].onmouseout = function(){
								// 开启时钟
								startTimer();
							}
						}
					}
					
					// 改变视图
					function changeView(){
						// 改变图片视图
						imageView.src = imageNames[index];
						
						// 下标视图  动态给i标签添加样式
						for(var i=0; i<aPage.length; i++){
							aPage[i].className = '';
						}
						aPage[index].className = 'active';
					}
					
					
					// 触发时钟事件
					function upDate(){
						index++;
						if(index > imageNames.length-1){
							index = 0;
						}
						changeView();
					}
					
					// 开启时钟
					function startTimer(){
						if(!timer){
							timer = setInterval(upDate, spaceTime);
						}
					}
					
					// 停止时钟
					function stopTimer(){
						clearInterval(timer);
						timer = null;
					}
				}
			});
		</script>
	</head>
	
	
	<body>
		<div id="box">
			<!-- 图片-->
			<img id="bigImg" />
			
			<!-- 下标-->
			<p id="page">
				<!--<i></i>
				<i></i>-->
			</p>
		</div>
	</body>
</html>
